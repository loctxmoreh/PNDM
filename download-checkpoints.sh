#!/usr/bin/env bash

# Download checkpoints from the author's public OneDrive.
# cURL generated by this method: https://sushantag9.medium.com/download-data-from-onedrive-using-command-line-d27196a676d9

# ddim_cifar10.ckpt
curl 'https://zjueducn-my.sharepoint.com/personal/3170105432_zju_edu_cn/_layouts/15/download.aspx?UniqueId=1d3a1960%2D9cd1%2D4c35%2D8712%2D3320d5ee4168' -H 'User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:106.0) Gecko/20100101 Firefox/106.0' -H 'Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,*/*;q=0.8' -H 'Accept-Language: en-US,en;q=0.5' -H 'Accept-Encoding: gzip, deflate, br' -H 'Referer: https://zjueducn-my.sharepoint.com/personal/3170105432_zju_edu_cn/_layouts/15/onedrive.aspx?ga=1&id=%2Fpersonal%2F3170105432%5Fzju%5Fedu%5Fcn%2FDocuments%2FResearch%2FPNDM%2Fmodels' -H 'Upgrade-Insecure-Requests: 1' -H 'Sec-Fetch-Dest: iframe' -H 'Sec-Fetch-Mode: navigate' -H 'Sec-Fetch-Site: same-origin' -H 'Connection: keep-alive' -H 'Cookie: FedAuth=77u/PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48U1A+VjEzLDBoLmZ8bWVtYmVyc2hpcHx1cm4lM2FzcG8lM2Fhbm9uI2U1ZDUxYmY4ZDRjNDM5MzJmNDdmOTE5ZTVkMzhhNTc0MTRjMGVkYjgzMjU0MjJlZjFmMGNjZjE2NGNhZDAxNmIsMCMuZnxtZW1iZXJzaGlwfHVybiUzYXNwbyUzYWFub24jZTVkNTFiZjhkNGM0MzkzMmY0N2Y5MTllNWQzOGE1NzQxNGMwZWRiODMyNTQyMmVmMWYwY2NmMTY0Y2FkMDE2YiwxMzMxNTU2MTYyNzAwMDAwMDAsMCwxMzMxNTY0NzcyNzk3NjA3MDIsMC4wLjAuMCwyNTgsZWI1ZmMwZjQtMjE2MS00MGQ4LTg0OTItNTE1OTQyNDQ5NzkzLCwsM2Y2YzgyYTAtNTBiMy0xMDAwLWYyNjgtNWM4MTNiODE4OGRlLDNmNmM4MmEwLTUwYjMtMTAwMC1mMjY4LTVjODEzYjgxODhkZSxJYm1TdGRkLzFFT2NsK1JydzF2eHB3LDAsMCwwLCwsLDI2NTA0Njc3NDM5OTk5OTk5OTksMCwsLCwsLCwwLCxBUEFDXzIwOV9Db250ZW50LGNxYmx5NHBsNVN3VEx2TnlMSVJ3VDdYTVNFVHZnblZWYk9IOVFDSjU2VmpwK0ZhS0dQcU1tOGl1Tmd4MWNWOHlaMGNpQzdEM2p6TmJ1RFB3NGNmN1RXdVJnKzVIV2VpVU1QdWJSb2JuWExZYzI2eEVBa25hVzUvOU9JeitNUTNKTnJOanB1c084NEU3OXBRVzRRdDhYbTQzQ0dvN0Y5K3U3MGRVQzlUbGxVd2pmTEo2Rll4RFVVRkQyL1Zwam9ZY1EyTHQyOU1ZdXRHSVZYaCszUnVtaW9VNWRiRXRpL3hRQjhyRHFXcDRjSXhqNXpITXhyZUJ3cFlzRjBra2hyeldWb3AzVXFrdHYwNldPZENtWFRZRC9KWjlJeHhlR243NDc2ZTkwTldGaTdPWm0rd0t6M2J0SUJQanMzdUhmQlZ6bVNFMUkwaVlVa3JDYkJRbVlYOTVIUT09PC9TUD4=' \
	--silent \
	--output ddim_cifar10.ckpt
[[ $? -eq 0 ]] && echo "ddim_cifar10.ckpt downloaded successfully" \
	       || echo "failed to download ddim_cifar10.ckpt"

# iddpm_cifar10.ckpt
curl 'https://zjueducn-my.sharepoint.com/personal/3170105432_zju_edu_cn/_layouts/15/download.aspx?UniqueId=bf4bd383%2D7cbb%2D4d44%2Daa58%2D238c734bff6d' -H 'User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:106.0) Gecko/20100101 Firefox/106.0' -H 'Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,*/*;q=0.8' -H 'Accept-Language: en-US,en;q=0.5' -H 'Accept-Encoding: gzip, deflate, br' -H 'Referer: https://zjueducn-my.sharepoint.com/personal/3170105432_zju_edu_cn/_layouts/15/onedrive.aspx?ga=1&id=%2Fpersonal%2F3170105432%5Fzju%5Fedu%5Fcn%2FDocuments%2FResearch%2FPNDM%2Fmodels' -H 'Upgrade-Insecure-Requests: 1' -H 'Sec-Fetch-Dest: iframe' -H 'Sec-Fetch-Mode: navigate' -H 'Sec-Fetch-Site: same-origin' -H 'Connection: keep-alive' -H 'Cookie: FedAuth=77u/PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48U1A+VjEzLDBoLmZ8bWVtYmVyc2hpcHx1cm4lM2FzcG8lM2Fhbm9uI2U1ZDUxYmY4ZDRjNDM5MzJmNDdmOTE5ZTVkMzhhNTc0MTRjMGVkYjgzMjU0MjJlZjFmMGNjZjE2NGNhZDAxNmIsMCMuZnxtZW1iZXJzaGlwfHVybiUzYXNwbyUzYWFub24jZTVkNTFiZjhkNGM0MzkzMmY0N2Y5MTllNWQzOGE1NzQxNGMwZWRiODMyNTQyMmVmMWYwY2NmMTY0Y2FkMDE2YiwxMzMxNTU2MTYyNzAwMDAwMDAsMCwxMzMxNTY0NzcyNzk3NjA3MDIsMC4wLjAuMCwyNTgsZWI1ZmMwZjQtMjE2MS00MGQ4LTg0OTItNTE1OTQyNDQ5NzkzLCwsM2Y2YzgyYTAtNTBiMy0xMDAwLWYyNjgtNWM4MTNiODE4OGRlLDNmNmM4MmEwLTUwYjMtMTAwMC1mMjY4LTVjODEzYjgxODhkZSxJYm1TdGRkLzFFT2NsK1JydzF2eHB3LDAsMCwwLCwsLDI2NTA0Njc3NDM5OTk5OTk5OTksMCwsLCwsLCwwLCxBUEFDXzIwOV9Db250ZW50LGNxYmx5NHBsNVN3VEx2TnlMSVJ3VDdYTVNFVHZnblZWYk9IOVFDSjU2VmpwK0ZhS0dQcU1tOGl1Tmd4MWNWOHlaMGNpQzdEM2p6TmJ1RFB3NGNmN1RXdVJnKzVIV2VpVU1QdWJSb2JuWExZYzI2eEVBa25hVzUvOU9JeitNUTNKTnJOanB1c084NEU3OXBRVzRRdDhYbTQzQ0dvN0Y5K3U3MGRVQzlUbGxVd2pmTEo2Rll4RFVVRkQyL1Zwam9ZY1EyTHQyOU1ZdXRHSVZYaCszUnVtaW9VNWRiRXRpL3hRQjhyRHFXcDRjSXhqNXpITXhyZUJ3cFlzRjBra2hyeldWb3AzVXFrdHYwNldPZENtWFRZRC9KWjlJeHhlR243NDc2ZTkwTldGaTdPWm0rd0t6M2J0SUJQanMzdUhmQlZ6bVNFMUkwaVlVa3JDYkJRbVlYOTVIUT09PC9TUD4=' \
	--silent \
	--output iddpm_cifar10.ckpt
[[ $? -eq 0 ]] && echo "iddpm_cifar10.ckpt downloaded successfully" \
	       || echo "failed to download iddpm_cifar10.ckpt"
